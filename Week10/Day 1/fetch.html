<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Fetcing Data from API Endpoints</title>
    <script type="text/javascript">
        // using JS fetch API
        // 

        // we need to flag this function as asynchronous with 'asynch' whenever we use the 
        // 'await' flag within the function
        async function logApiResults() {
            // think of 'await' as a JS IOU a response, it isn't instant,
            // so don't move on until we have a proper response

            function randNumRange(min, max) {
                var rn = Math.round(Math.random() * (max - min) + min)
                // test = rn
                // return a value from our function
                return rn
            }
            const randomIndex = randNumRange(0, 110);

            const response = await fetch(`https://rickandmortyapi.com/api/character/${randomIndex}`)

            const result = await response.json()
            console.log(result)

            const message = `${result.name} is a ${result.species} from ${result.origin.name} and they are ${result.gender}`
            console.log(message)

        }

        logApiResults()

        // tyring with another API:

        async function logApiResults2() {

            function randNumRange2(min, max) {
                var rn = Math.round(Math.random() * (max - min) + min)
                return rn
            }
            const randomIndex2 = randNumRange2(0, 100);

            const response2 = await fetch(`https://randomuser.me/api/${randomIndex}`)

            const result2 = await response2.json()
            console.log(result2)

            const message2 = `${result.name.title} ${result.name.first} ${result.name.last} is a ${result.gender} from ${result.city}, ${result.state}`
            console.log(message2)

        }

        logApiResults2()




    </script>
</head>

<body></body>

</html>